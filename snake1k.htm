<script>
// d = direction; 0 = up, 1 = right, 2 = down, 3 = left
// c = direction change; 0 = no change, 1 = counterclockwise, 2 = clockwise
// p = position [x, y]
// t = generic temp variable
// e = another temp variable
// a = position of apple
// A() = placeApple()
// r = get random integer in range 0..9
// h = snake head
d = 0;
c = 0;
p = [[5,5]];
r = function() {
  return Math.random()*10>>0;
};

(A = function() {
  a = [r(), r()];
})();

setInterval(function() {
  c==1 ? d-- : (c==2 ? d++ : d);
  c=0;
  h = p[0];

  if (d%4==0) {
    h[1]--
  } else if (d%4==1) {
    h[0]++
  } else if (d%4==2) {
    h[1]++;
  } else {
    h[0]--;
  }

  if (h[0] > 9 || h[0] < 0 || h[1] > 9 || h[1] < 0) {
    location+=""; // tot => neu laden
  }

  if (h+"" == a+"") {
    A();
  }

  t = "";

  for (i=0;i<10;i++) {
    for (j=0;j<10;j++) {
      e=j+","+i;
      t += (h+""==e ? "o" : (a+""==e ? "x" : "."));
    }
    t += "\n";
  }

  p = [h];

  console.clear();
  console.log(t);
}, 999);
</script>